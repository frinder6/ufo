<!DOCTYPE html>
<html>
<head>

    <title>Window</title>

    <link rel="stylesheet" type="text/css" href="dhtmlx/skins/web/dhtmlx.css"/>
    <link href="layer/skin/layer.css" rel="stylesheet"/>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

    </style>

</head>
<body onload="doOnLoad()" onresize="doResize()">
</body>
<script src="js/jquery.min.js"></script>
<script src="layer/layer.js"></script>
<script src="dhtmlx/dhtmlx.js"></script>
<script src="js/dx.grid2.js"></script>
<script type="text/javascript">
    function doOnLoad() {
        init({
            name: "导航信息表",
            url: "menu/page.menu",
            idUrl: "menu/get.id",
            addUrl: "menu/add.menu",
            modifyUrl: "menu/modify.menu",
            removeUrl: "menu/remove.menu"
        });
    }
    function focus(dialogForm, name) {
        var inputName = "parentText";
        if (name == inputName) {
            var treeWin = fDxWins.createWindow("treeWin", 300, 200, 250, 300);
            treeWin.setText("选择父菜单");
            treeWin.setModal(true);
            treeWin.button("park").hide();
            treeWin.button("minmax").hide();
            treeWin.keepInViewport(true);
            treeWin.denyResize();
            var tree = treeWin.attachTree();
            tree.setSkin("dhx_" + data.skin);
            tree.setImagePath("dhtmlx/skins/" + data.skin + "/imgs/dhxtree_" + data.skin + "/");
//            tree.enableRadioButtons(true);
//            tree.enableSmartXMLParsing(true);
            tree.loadJSON("menu/server.tree");
            tree.attachEvent("onDblClick", function (id) {
                dialogForm.removeItem("parentId");
                dialogForm.addItem(null, {
                    label: "父菜单：",
                    name: "parentId",
                    type: "input",
                    value: id
                });
                dialogForm.hideItem("parentId");
                dialogForm.setItemValue(inputName, tree.getSelectedItemText());
                treeWin.close();
            });
        }
    }
</script>


</html>